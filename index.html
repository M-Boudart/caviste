<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap -->
	    	<link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
        <!-- Slick -->
        <link rel="stylesheet" href="node_modules/slick-carousel/slick/slick.css">
	    	<!-- CSS Perso -->
        <link rel="stylesheet" href="design/style.css">
        <!--Police-->
        <link href="https://fonts.googleapis.com/css?family=Rouge+Script&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Playfair+Display&display=swap" rel="stylesheet">
        <!--Font Awesome-->
        <script src="https://kit.fontawesome.com/193745291d.js" crossorigin="anonymous"></script>
        <!-- Leaflet -->
        <link rel="stylesheet" href="node_modules/leaflet/dist/leaflet.css" />
        <script src="node_modules/leaflet/dist/leaflet.js"></script>
        

        <title>Caviste</title>
    </head>
    <body>
        <header class="row">
            <div class="col-md-12 mt-2">
                <!-- Formulaire de connexion -->
                <form id="frmLogIn" action="http://localhost/caviste/index.html" method="POST">
                  <div class="form-row">
                    <div class="col">
                      <input name="login" type="text" class="form-control" placeholder="Login" required>
                    </div>
                    <div class="col">
                      <input name="pwd" type="password" class="form-control" placeholder="Mot de passe" required>
                    </div>
                    <div class="col">
                      <button id="btLogIn" class="btn btn-primary" name="btLogIn" style="color: black; border: 1px black solid;">Se connecter</button>
                    </div>
                  </div>
                </form>
                <!-- Utilisateur connecté -->
                <div id="divConnectedUser">
                  <p></p>
                  <button id="btLogOut" class="btn btn-primary" name="btLogOut" style="color: black; border: 1px black solid; display: inline;">Se déconnecter</button>
                </div>
            </div>
            <div style="text-align: center;" class="col-md-6">
                <img class="logo_header" src="images/caviste_logo_black.png" alt="Logo caviste">
            </div>
            <div class="slogan col-md-12">
                <h1 class="text-xl-center">Toujours un bon vin en cave !</h1>
            </div>
        </header>
        <!--Les boutons de recherche à placer ici en dessous-->
        <div class="forms_background col-12">
          <div id="search-sort-wine" class="row">
            <div class="col-12">
                <form id="frmSearchSort" action="http://localhost/caviste/index.php" method="GET">
                    <div class="form_group">
                        <!--Il serait bien d'alligner ces 3 éléments ci-dessous-->
                        <input id="livesearch" name="search" class="searchbox form-control col-lg-3 col-md-6 col-sm-8 col-xs-12 text-lg-left" type="text" placeholder="Votre recherche"> 
                        <button id="btSearch" name="btSearch" class="col-lg-3 col-md-3 col-sm-8 col-xs-12 btn btn-outline-dark btn-lg" type="button">
                            Rechercher
                        </button>
                    </div>
                </form>
            </div>
        </div>
            <div id="main-content" class="row conteiner-fluid">

              <div class="row conteiner-fluid col-sm-12 col-md-8 order-sm-2">
                <!--IMAGE OF WINES-->


                <div id ="col-imgWine" class="bottle center-block col-sm-12 col-md-5 col">


                    <!-- Carousel dynamique -->
                    <div id="vin" class="carousel slide" data-ride="carousel">
                      <ol id="circle" class="carousel-indicators">
                        <li data-target="#vin" data-slide-to="0" class="active"></li>
                        <li data-target="#vin" data-slide-to="1"></li>
                        <li data-target="#vin" data-slide-to="2"></li>
                      </ol>
                      <div id="wineCarousel" class="carousel-inner">
                        <div class="carousel-item active">
                          <img id="vin1" class="img-fluid d-block w-100" src="images/wines/generic.png" alt="Premier slide bouteille de vin">
                        </div>
                        <div class="carousel-item">
                          <img id="vin2" class="img-fluid d-block w-100" src="images/wines/block_nine.png" alt="Second slide bouteille de vin">
                        </div>
                        <div class="carousel-item">
                          <img id="vin3" class="img-fluid d-block w-100" src="images/wines/lan_rioja.png" alt="Troisième slide bouteille de vin">
                        </div>
                      </div>
                    </div>
                    <!-- Compteur et Affichage like -->
                    <img class="likeThisWine" src="images/likeThisWine.png">
                    <p class="likeCounter"></p>
                </div>

                  <!--INFO OF WINES-->
                  <div id="col-frmInfos" class="forms_wine col-sm-12 col-md-7">
                      <form id="frmInfos" action="http://localhost/caviste/index.php" method="GET" enctype="multipart/form-data">
                          <div class="idlabel form-group">	
                              <label for="id">ID:</label>
                              <input class="form-control" id="id" type="text" name="id" readonly required>
                          </div>
                          <div class="form-group">
                              <label for="name">Nom:</label>
                              <input class="form-control" id="name" type="text" name="name" required>
                          </div>
                          <div class="form-group">
                          <label for="grapes">Grapes:</label>
                              <input class="form-control" id="grapes" type="text" name="grapes" required>
                          </div>
                          <div class="form-group">
                              <label for="country">Pays:</label>
                              <input class="form-control" id="country" type="text" name="country" required>
                          </div>
                          <div class="form-group">
                              <label for="region">Région:</label>
                              <input class="form-control" id="region" type="text" name="region" required>
                          </div>
                          <div class="form-group">
                              <label for="year">Année:</label>
                              <input class="form-control" id="year" type="text" name="year" required>
                          </div>
                          <div class="price form-group">
                            <label for="price">Prix:</label>
                            <input class="form-control" id="price" type="text" name="price" required>
                          </div>
                          <div class="capacity form-group">
                            <label for="capacity">Capacité:</label>
                            <input class="form-control" id="capacity" type="text" name="capacity" required>
                          </div>
                          <div class="form-group">
                              <label for="description">Description:</label>
                              <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                          </div>
                      </form>
                    </div>
                    <button id="btAddImg"class="btn btn-outline-dark btn-lg" data-toggle="modal" data-target="#newImg">Ajouter une image</button>
                    <button id="btDeleteImg"class="btn btn-outline-dark btn-lg" >Supprimer une image</button>
                    </div>

                      <!--MODAL ADD IMAGES-->
                      <div class="modal fade" id="newImg" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <img class="img-fluid" style="width:20%; padding:10px;" src="images/caviste_logo_black.png" alt="Logo caviste">
                              <h3>Vous allez ajouter une image au vin</h3>     
                                <!--Ajouter nom du vin sélectionné-->
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">

                              <form id="frmUpload" action="" enctype="multipart/form-data" method="POST">
                              <div class="form-group">
                                <!-- <input type="hidden" name="MAX_FILE_SIZE" value="20000"> -->
                                <input type="file" name="picture" id="file-input">
                                <input type="hidden" name="MAX_FILE_SIZE" value="100">
                                <button id="upload-button" style="background-color: #af001f;" class="btn btn-outline-dark btn-lg">Upload File</button>

                                <!-- <input id="fileImg" name="file" type="file">
                                <button id="btSendImg" style="background-color: #af001f;" name="upload" type="submit" class="btn btn-outline-dark btn-lg">envoyer</button> -->
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>  


                  <!--LIST OF WINES-->
                  <div id="col-tabWines" class="col-tabWines col-sm-12 col-md-4 order-first">
                    
                  </div>
                  <!--LIST OF COMMENT              TO DO -->
                  <div class="col-sm-12 col-md-6 order-sm-3">
                    <div>
                      <!-- <div> -->
                        <button id="btLike" class="btn btn-outline-dark btn-lg" type="button"><span style="color:#af001f;" class="far fa-heart"></span> J'aime ce vin</button>
                        <button id="btOpenModalComment"class="btn btn-outline-dark btn-lg" data-toggle="modal" data-target="#newComment" data-whatever="@getbootstrap">Ecrire un commentaire</button>
                        <div id="noComment"></div>
                        <!--MODAL ADD COMMENT-->
                        <div class="modal fade" id="newComment" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content">
                              <div class="modal-header">
                                <img class="img-fluid" style="width:20%; padding:10px;" src="images/caviste_logo_black.png" alt="Logo caviste">
                                <h3>Vous allez écrire un commentaire au sujet du vin</h3>     
                                  <!--Ajouter nom du vin sélectionné-->
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <div class="modal-body">
                                <form id="frmAddComment">
                                  <div class="form-group">

                                    <input hidden type="text" class="form-control" id="login-name" value="">

                                  </div>
                                  <div class="form-group">
                                    <label for="message-text" class="col-form-label">Votre commentaire:</label>
                                    <textarea class="form-control" rows="5" id="message-text"></textarea>
                                  </div>
                                </form>
                              </div>
                              <div class="modal-footer">
                                <button name="fermer" type="button" class="btn btn-outline btn-lg" data-dismiss="modal">Fermer</button>
                                <button id="btSendComment" name="envois" type="button" class="btn btn-outline btn-lg">Envoyer</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      <!-- </div> -->
                      <div class="comment-container">
                        <section class="comments">
                          <!--Affichage des commentaires-->
                          <div id="commentaires"></div>
                          
                            <article style="padding-top: 40px;">
                              <div>
                                <div>
                                  <h2 class="bienvenue">Découvrez nos meilleures sélections de vins</h2>
                                  <p>Si vous souhaitez commenter un vin ou en acheter, vous devez au préalable vous enregistrer:  <a target="_blank" href="#bienvenue">Je m'enregistre</a> car j'aime le bon vin.</p>
                                </div>
                                <p class="attribution signature">L'<a href="#non">équipe Caviste</a> qui vous souhaite la bienvenue !</p>
                              </div>
                            </article>
                        </section>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-6 order-sm-3">
                    <div id="map_container"></div>
                  </div>
            </div>
        </div>
        <!-- Carrousel Slick -->
        <div id="div-carousel" class="row">
            <div class="carousel col-12">
                <h2 class="title_carousel" >Nos vins</h2>
                <div class="container-fluid">
                    <div class="row">
                      <div class="col-md-12 col-md-offset-3">
                        <div class="slick-carousel">

                          <div class="slick-item">
                            <a class="caption-link">
                              <div class="caption-layer light-green">
                                <div class="caption-content">
                                  <h3 class="invisible">Bodega Lurton</h3>
                                  <p class="hidden">Solid notes of black currant blended with a light citrus make this wine an easy pour for varied palates.</p>
                                </div>
                              </div>
                              <img src="images/wines/bodega_lurton.png" alt="Image" class="img-responsive">
                            </a>
                          </div>

                          <div class="slick-item">
                            <a class="caption-link">
                              <div class="caption-layer light-green">
                                <div class="caption-content">
                                  <h3 class="invisible">Rex Hill</h3>
                                  <p class="hidden">One cannot doubt that this will be the wine served at the Hollywood award shows, because it has undeniable star power. Be the first to catch the debut that everyone will be talking about tomorrow.</p>
                                </div>
                              </div>
                              <img src="images/wines/rex_hill.png" alt="Image" class="img-responsive">
                            </a>
                          </div>

                         <div class="slick-item">
                            <a class="caption-link">
                              <div class="caption-layer light-green">
                                <div class="caption-content">
                                  <h3 class="invisible">Chateau Le Doyenne</h3>
                                  <p class="hidden">Though dense and chewy, this wine does not overpower with its finely balanced depth and structure. It is a truly luxurious experience for the senses.</p>
                                </div>
                              </div>
                              <img src="images/wines/le_doyenne.png" alt="Image" class="img-responsive">
                            </a>
                          </div>

                          <div class="slick-item">
                            <a class="caption-link">
                              <div class="caption-layer light-green">
                                <div class="caption-content">
                                  <h3 class="invisible">Lan Rioja</h3>
                                  <p class="hidden">A resurgence of interest in boutique vineyards has opened the door for this excellent foray into the dessert wine market. Light and bouncy, with a hint of black truffle, this wine will not fail to tickle the taste buds.</p>
                                </div>
                              </div>
                              <img src="images/wines/lan_rioja.png" alt="Image" class="img-responsive">
                            </a>
                          </div>
                          
                          <div class="slick-item">
                            <a class="caption-link">
                              <div class="caption-layer light-green">
                                <div class="caption-content">
                                  <h3 class="invisible">Margerum</h3>
                                  <p class="hidden">The cache of a fine Cabernet in ones wine cellar can now be replaced with a childishly playful wine bubbling over with tempting tastes of black cherry and licorice. This is a taste sure to transport you back in time.</p>
                                </div>
                              </div>
                              <img src="images/wines/margerum.png" alt="Image" class="img-responsive">
                            </a>
                          </div>

                          <div class="slick-item">
                            <a class="caption-link">
                              <div class="caption-layer light-green">
                                <div class="caption-content">
                                  <h3 class="invisible">Morizottes</h3>
                                  <p class="hidden">Breaking the mold of the classics, this offering will surprise and undoubtedly get tongues wagging with the hints of coffee and tobacco in perfect alignment with more traditional notes. Breaking the mold of the classics, this offering will surprise and undoubtedly get tongues wagging with the hints of coffee and tobacco in perfect alignment with more traditional notes. Sure to please the late-night crowd with the slight jolt of adrenaline it brings.</p>
                                </div>
                              </div>
                              <img src="images/wines/morizottes.png" alt="Image" class="img-responsive">
                            </a>
                          </div>

                          <div class="slick-item">
                            <a class="caption-link">
                              <div class="caption-layer light-green">
                                <div class="caption-content">
                                  <h3 class="invisible">Saint-Cosme</h3>
                                  <p class="hidden">The aromas of fruit and spice give one a hint of the light drinkability of this lovely wine, which makes an excellent complement to fish dishes.</p>
                                </div>
                              </div>
                              <img src="images/wines/saint_cosme.png" alt="Image" class="img-responsive">
                            </a>
                          </div>

                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
            </div>

            

        <footer class="row">
            <div class="col-sm-12 col-md-6">
                <img class="logo_footer" src="images/caviste_logo_white.png" alt="Logo caviste">
            </div>
            <div class="contact col-sm-12 col-md-6">
                <p class="title_contact text-xl-left">Contactez nous</p>
                <p class="text-lg-left"><span style="color:#9fb757;" class="fas fa-home"></span>   Avenue de l'Astronomie 19, 1210 Saint-Josse-ten-Noode</p>
                <p class="text-lg-left"><span style="color:#9fb757;" class="fas fa-phone"></span>   02/ 777 10 10</p>
                <p class="text-lg-left"><span style="color:#9fb757;" class="fas fa-at"></span>   info@caviste.be</p>
            </div>
        </footer>
        <!-- Jquery -->
        <script src="node_modules/jquery/dist/jquery.js"></script>
        <!-- Popper -->
        <script src="node_modules/popper.js/dist/umd/popper.min.js"></script>
        <!-- Bootstrap -->
	    	<script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <!-- Slick -->
        <script src="module/carousel.js"></script>
        <script src="node_modules/slick-carousel/slick/slick.min.js"></script>
        <!-- Scripts perso -->
        <script type="module" src="lib/displayWines.js"></script>
        <script type="module" src="lib/connection.js"></script>
        <script src="lib/likeManagement.js"></script>
        <script type="module" src="lib/comment.js"></script>
        <script src="lib/imageWine.js"></script>
        <script src="lib/searchWines.js"></script>
    </body>
</html>